<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>HTTPS Dashboard: Summary</title>

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
	<style>.tooltip-inner {max-width: 500px; width: 350px; }</style>

  </head>
  <body>








	<!-- =============== COMMON HEADER =============== -->
	<nav class="navbar navbar-default" role="navigation">
	  <div class="container-fluid">
	    <!-- Brand and toggle get grouped for better mobile display -->
	    <div class="navbar-header">
	      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
	        <span class="sr-only">Toggle navigation</span>
	        <span class="icon-bar"></span>
	        <span class="icon-bar"></span>
	        <span class="icon-bar"></span>
	      </button>
	      <a class="navbar-brand" href="index.html">HTTPS Dashboard</a>
	    </div>
	
	    <!-- Collect the nav links, forms, and other content for toggling -->
	    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">

	  	<!-- LINKS (left) -->
	      <ul class="nav navbar-nav">
	        <li class="active"><a href="summary.html">Summary</a></li>
	        <li><a href="sites.html">Per-Site Details</a></li>
	        <li><a href="about.html">About</a></li>
	      </ul>

	  	<!-- CONTROL MENUS (right) -->
	      <ul class="nav navbar-nav navbar-right">
	  	  <!-- USER AGENT -->
	  	  <li><p class="navbar-text">User Agent:</p></li>
	        <li class="dropdown">
	          <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span id="user-agent-display">User Agent</span> <span class="caret"></span></a>
	          <ul class="dropdown-menu" role="menu" id="user-agent-menu">
	  		  <!-- to be filled in programatically on page load -->
	            <li class="divider"></li>
	            <li><a href="user_agents.html">Details</a></li>
	          </ul>
	        </li>
	      </ul>
	    </div><!-- /.navbar-collapse -->
	  </div><!-- /.container-fluid -->
	</nav><!-- navbar -->
	<!-- ============= END COMMON HEADER ============= -->








	<div class="container">


	<div class="page-header">
	  <h1>Summary</h1>
	</div>


	<!-- AVAILABILITY -->
	<div class="row">
		<div class="col-md-4 col-md-offset-4">
			<div id="availability-pie-chart" style="width:100%; height:100%"></div>
		</div> <!-- col-md-6 -->

	</div> <!-- row -->
	
	
	<!-- BASIC STATS -->
	<div class="row">
		<!--<h2>Page Differences&nbsp;<sup><a style="color:inherit;"data-toggle="tooltip" data-placement="right" title="Sites often serve different versions over HTTP and HTTPS. For the sites that support both protocols, these plots summarize these differences."><span class="glyphicon glyphicon-question-sign" style="font-size:16px"></span></a></sup> -->
		<h2>Page Differences&nbsp;<sup><a style="color:inherit;"data-toggle="modal" data-target="#page-differences-modal"><span class="glyphicon glyphicon-question-sign" style="font-size:16px"></span></a></sup></h2>

		<!-- sort dropdown -->
		<div class="btn-group pull-right">
		  <button type="button" class="btn btn-default btn-sm dropdown-toggle" data-toggle="dropdown">
		    Sort <span class="caret"></span>
		  </button>
		  <ul class="dropdown-menu" role="menu">
		    <li><a href="javascript: load_basic_stats('sort-alpha');">Alphabetical</a></li>
		    <li><a href="javascript: load_basic_stats('sort-http');">HTTP</a></li>
		    <li><a href="javascript: load_basic_stats('sort-https');">HTTPS</a></li>
		  </ul>
		</div> <!-- sort dropdown -->

		</h2>
	</div> <!-- row -->


	<!-- num_objects -->
	<div class="row">
		<div class="col-md-6">
			<div id="num_objects" style="width:100%; height: 250px;"></div>
		</div>  <!-- column -->
		<div class="col-md-6">
			<div id="num_objects-diff" style="width:100%; height: 250px;"></div>
		</div>  <!-- column -->
	</div> <!-- row -->
	<p>&nbsp;</p>
	
	<!-- size -->
	<div class="row">
		<div class="col-md-6">
			<div id="num_mbytes" style="width:100%; height: 250px;"></div>
		</div>  <!-- column -->
		<div class="col-md-6">
			<div id="num_mbytes-diff" style="width:100%; height: 250px;"></div>
		</div>  <!-- column -->
	</div> <!-- row -->
	<p>&nbsp;</p>
	
	<!-- num_connections -->
	<div class="row">
		<div class="col-md-6">
			<div id="num_tcp_handshakes" style="width:100%; height: 250px;"></div>
		</div>  <!-- column -->
		<div class="col-md-6">
			<div id="num_tcp_handshakes-diff" style="width:100%; height: 250px;"></div>
		</div>  <!-- column -->
	</div> <!-- row -->
	<p>&nbsp;</p>
	
	<!-- num_hosts -->
	<div class="row">
		<div class="col-md-6">
			<div id="num_hosts" style="width:100%; height: 250px;"></div>
		</div>  <!-- column -->
		<div class="col-md-6">
			<div id="num_hosts-diff" style="width:100%; height: 250px;"></div>
		</div>  <!-- column -->
	</div> <!-- row -->
	<p>&nbsp;</p>
			


	<!-- OBJECT LOAD PROTOCOLS -->
	<div class="row">
		<!--<h2>Object Fetch Protocols&nbsp;<sup><a style="color:inherit;"data-toggle="tooltip" data-placement="right" title="Web pages are made up of several objects: HTML files, images, scripts, etc. Each one is fetched from the server separately. Sometimes, even when the main HTML document is loaded with HTTPS, some of the objects it contains are still loaded over HTTP."><span class="glyphicon glyphicon-question-sign" style="font-size:16px"></span></a></sup></h2>-->
		<h2>Object Fetch Protocols&nbsp;<sup><a style="color:inherit;"data-toggle="modal" data-target="#fetch-protocol-modal"><span class="glyphicon glyphicon-question-sign" style="font-size:16px"></span></a></sup></h2>
		<div class="col-md-6">
			<!-- plot -->
			<div id="http-site-counts" style="width:100%; height: 250px;"></div>

			<!-- sort dropdown -->
			<div class="btn-group pull-right">
			  <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown">
			    Sort <span class="caret"></span>
			  </button>
			  <ul class="dropdown-menu" role="menu">
			    <li><a href="javascript: load_protocol_counts('http', 'sort-alpha');">Alphabetical</a></li>
			    <li><a href="javascript: load_protocol_counts('http', 'sort-http');">HTTP</a></li>
			    <li><a href="javascript: load_protocol_counts('http', 'sort-https');">HTTPS</a></li>
			  </ul>
			</div>
		</div>  <!-- HTTP column -->

		<div class="col-md-6">
			<!-- plot -->
			<div id="https-site-counts" style="width:100%; height: 250px;"></div>
			
			<!-- sort dropdown -->
			<div class="btn-group pull-right">
			  <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown">
			    Sort <span class="caret"></span>
			  </button>
			  <ul class="dropdown-menu" role="menu">
			    <li><a href="javascript: load_protocol_counts('https', 'sort-alpha');">Alphabetical</a></li>
			    <li><a href="javascript: load_protocol_counts('https', 'sort-http');">HTTP</a></li>
			    <li><a href="javascript: load_protocol_counts('https', 'sort-https');">HTTPS</a></li>
			  </ul>
			</div>
		</div>  <!-- HTTPS column -->
	</div> <!-- row -->

	<p>&nbsp;</p>
	<p>&nbsp;</p>
	<p>&nbsp;</p>


    </div> <!-- container -->


	<!-- =============== BEGIN EXPLANATION MODALS =============== -->
	
	<!-- PAGE DIFFERENCES -->
	<div class="modal fade" id="page-differences-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	  <div class="modal-dialog">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
	        <h4 class="modal-title" id="myModalLabel">Page Differences</h4>
	      </div>
	      <div class="modal-body">
			<p>Web pages are made up of multiple objects. This first object fetched is
			an HTML document, which tells your browser which additional objects it
			should load and how to display them. Additional objects could include
			scripts, style sheets, and images.</p>

			<p style="text-align: center;"><img src="img/objects@2x.png" width="204px"/></p>

			<p>For complex pages, these objects are often served from different
			servers. For example, a site might host all of its HTML and JavaScript
			on one server and its images on another. Sometimes, sites serve pages
			differently over HTTP and HTTPS: for instance, the site might serve
			objects from fewer servers so it needs fewer certificates or to avoid
			extra TLS handshakes. It might also server fewer objects (e.g., by
			inserting CSS into the HTML document itself).</p>
			
			<p style="text-align: center;"><img src="img/object-differences.png" style="width: 100%; max-width: 996px;"/></p>

			<p>This section of the summary compares the HTTP and HTTPS versions of
			the sites we crawled in terms of:
			<ul>
				<li><strong>Number of Objects:</strong> How many objects did each version of the page load?</li>
				<li><strong>Total Size:</strong> What was the cummulative size of all of the objects for each version of the page?</li>
				<li><strong>Number of TCP Connections:</strong> How many connections did our browser make when it loaded each version of the page?</li>
				<li><strong>Number of Hosts:</strong> How many servers did our browser contact when it loaded each version of the page?</li>
			</ul>
			</p>
	      </div>
	    </div>
	  </div>
	</div>

	
	<!-- OBJECT FETCH PROTOCOL -->
	<div class="modal fade" id="fetch-protocol-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
	  <div class="modal-dialog">
	    <div class="modal-content">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
	        <h4 class="modal-title" id="myModalLabel">Object Fetch Protocol</h4>
	      </div>
	      <div class="modal-body">
			<p>Web pages are made up of multiple objects. This first object fetched is
			an HTML document, which tells your browser which additional objects it
			should load and how to display them. Additional objects could include
			scripts, style sheets, and images.</p>

			<p style="text-align: center;"><img src="img/objects@2x.png" width="204px"/></p>

			<p>Browsers open multiple connections to fetch these embedded
			objects. Loading the page using an HTTPS URL instructs the browser
			to download the root HTML document over a secure connection, but
			that HTML document might tell the browser to use unsecure
			connections to fetch some embedded objects.</p>

			<p style="text-align: center;"><img src="img/fetch-protocols@2x.png" width="419px" style="max-width: 100%;"/></p>

			<p>When this happens, modern browsers either display a warning icon
			or omit the padlock icon altogether:</p>
			
			<p style="text-align: center;"><img src="img/chrome@2x.png" width="500px" style="max-width: 100%;"/></p>
			<p style="text-align: center;"><img src="img/safari@2x.png" width="500px" style="max-width: 100%;"/></p>
			<p style="text-align: center;"><img src="img/firefox@2x.png" width="500px" style="max-width: 100%;"/></p>

			<p>This section of the summary compares the number of objects
			loaded over HTTP and HTTPS for each version of each site.</p>


	      </div>
	    </div>
	  </div>
	</div>
	
	<!-- =============== END EXPLANATION MODALS =============== -->






    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
	<!-- Enable tooltips -->
	<script>$(function () { $("[data-toggle='tooltip']").tooltip(); });</script>
	<!-- HighStart (for the charts) -->
	<script src="http://code.highcharts.com/highcharts.js"></script>
	<!-- load data -->
	<script src="./js/summary.js"></script>
	<script src="./js/common.js"></script>
  </body>
</html>
